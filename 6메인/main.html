<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=412, initial-scale=1.0">
  <title>모바일 웹 메인</title>
  <link rel="stylesheet" href="main.css">
</head>
<body>
  <div class="wrapper">
    <header>
      <div class="header-left">AI 알바 플랫폼</div>
      <div class="header-right">
        <button class="icon-btn">🔍</button>
        <button class="icon-btn">☰</button>
      </div>
    </header>
    <div class="content">
      <div class="faq-link">
        <div id="faqSlider" class="faq-slider">
          <a href="#faq">허위로 구인공고를 내면 처벌을 받을 수 있을까요?</a>
          <a href="#faq">밀린 월급을 받기 위해 노동청에 어떻게 신고할 수 있을까요?</a>
          <a href="#faq">월급을 준다고 하면서 계속 주지 않으면 어떻게 해야 할까요?</a>
        </div>
    </div>

    <div class="banner-box">
      <div class="banner-slider-wrapper" id="bannerSliderWrapper">
        <div class="banner-slider" id="bannerSlider">
          <img src="./img/banner1.png" class="banner-img" />
          <img src="./img/banner2.png" class="banner-img" />
          <img src="./img/banner3.png" class="banner-img" />
        </div>
      </div>
      <!-- 좌우 화살표 -->
      <button class="arrow left" id="prevBtn">‹</button>
      <button class="arrow right" id="nextBtn">›</button>
    </div>

      <div class="quick-links">
        <div class="quick-item">업종</div>
        <div class="quick-item">맞춤</div>
        <div class="quick-item">지역별</div>
        <div class="quick-item">단기</div>
        <div class="quick-item">급구</div>
      </div>

      <div class="grid-links">
        <div class="grid-item">알바 후기</div>
        <div class="grid-item">알바 퀴즈</div>
        <div class="grid-item">부당대우 신고</div>
        <div class="grid-item">근로계약서</div>
      </div>
    </div>

    <footer>
      <div class="nav-item">홈</div>
      <div class="nav-item">AI 추천</div>
      <div class="nav-item">알바지도</div>
      <div class="nav-item">채팅</div>
      <div class="nav-item">마이페이지</div>
    </footer>
  </div>

  <!-- ✅ JS는 DOMContentLoaded 이후에 실행되도록 처리 -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const slider = document.getElementById('faqSlider');
      const itemHeight = 24;
      let currentIndex = 0;
      let interval;

      const clone = slider.children[0].cloneNode(true);
      slider.appendChild(clone);


      const transitionTime = 1000; // 2초
      const slideInterval = 5000; // 3초
      function startSlide() {
        interval = setInterval(() => {
          currentIndex++;
          slider.style.transition = `transform ${transitionTime / 1000}s ease-in-out`;
          slider.style.transform = `translateY(-${itemHeight * currentIndex}px)`;

          if (currentIndex === slider.children.length - 1) {
            setTimeout(() => {
              slider.style.transition = 'none';
              slider.style.transform = 'translateY(0)';
              currentIndex = 0;
              setTimeout(() => {
                slider.style.transition = `transform ${transitionTime / 1000}s ease-in-out`;
              }, 20);
            },transitionTime);
          }
        }, slideInterval);
      }

      function stopSlide() {
        clearInterval(interval);
      }

      slider.addEventListener('mouseenter', stopSlide);
      slider.addEventListener('mouseleave', startSlide);

      startSlide();
    });


  document.addEventListener("DOMContentLoaded", () => {
  const slider = document.getElementById("bannerSlider");
  const wrapper = document.getElementById("bannerSliderWrapper");
  const prevBtn = document.getElementById("prevBtn");
  const nextBtn = document.getElementById("nextBtn");

  let currentIndex = 0;
  let interval;
  const bannerCount = slider.children.length;

  // 클론 생성 (무한 루프)
  const firstClone = slider.children[0].cloneNode(true);
  slider.appendChild(firstClone);

  function updateSlide() {
    slider.style.transition = "transform 0.5s ease-in-out";
    slider.style.transform = `translateX(-${100 * currentIndex}%)`;

    // 클론에서 진짜 첫 번째로 순간 이동
    if (currentIndex === bannerCount) {
      setTimeout(() => {
        slider.style.transition = "none";
        slider.style.transform = `translateX(0)`;
        currentIndex = 0;
      }, 500);
    }
  }

  function startSlide() {
    interval = setInterval(() => {
      currentIndex++;
      updateSlide();
    }, 3000);
  }

  function stopSlide() {
    clearInterval(interval);
  }

  // 화살표 클릭
  nextBtn.addEventListener("click", () => {
    stopSlide();
    currentIndex++;
    updateSlide();
    startSlide();
  });

  prevBtn.addEventListener("click", () => {
    stopSlide();
    currentIndex = currentIndex === 0 ? bannerCount - 1 : currentIndex - 1;
    slider.style.transition = "transform 0.5s ease-in-out";
    slider.style.transform = `translateX(-${100 * currentIndex}%)`;
    startSlide();
  });

  // 마우스 올리면 멈춤
  wrapper.addEventListener("mouseenter", stopSlide);
  wrapper.addEventListener("mouseleave", startSlide);

  // 초기화
  startSlide();
});
  </script>
</body>
</html>
